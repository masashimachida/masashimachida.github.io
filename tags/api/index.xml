<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>api on Blog</title><link>http://masashimachida.github.io/tags/api/</link><description>Recent content in api on Blog</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Tue, 29 Mar 2022 22:00:00 +0900</lastBuildDate><atom:link href="http://masashimachida.github.io/tags/api/index.xml" rel="self" type="application/rss+xml"/><item><title>Slack API の Socket Mode はイマイチ使いづらい</title><link>http://masashimachida.github.io/post/20220329/</link><pubDate>Tue, 29 Mar 2022 22:00:00 +0900</pubDate><guid>http://masashimachida.github.io/post/20220329/</guid><description>apps.connections.open method | Slack
ドキュメントにある通り https://slack.com/api/apps.connections.open に POST すると websocket のエンドポイントを教えてくれる訳だけど、CORS 制限があるからブラウザの js から叩けない。
リクエスト中に App-Level Tokens を含めるのでブラウザなんかで使うなよっていう話だとは思うんだけど、このためにサーバー立てるのはめんどくさいなー。
この socket 繋げればイベントがばんばん飛んでくるんだけど、認証通しているわけでもないので DM や private なチャンネルの情報は流れてこない。bot 用途なんだろうけどせっかく socket なんだからブラウザで使いたい。</description></item></channel></rss>